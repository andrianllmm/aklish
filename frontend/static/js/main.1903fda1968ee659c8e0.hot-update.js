/*! For license information please see main.1903fda1968ee659c8e0.hot-update.js.LICENSE.txt */
"use strict";self.webpackHotUpdatefrontend("main",{"./src/components/Games/Wordle/Wordle.js":(e,t,n)=>{n.r(t),n.d(t,{default:()=>d});var r=n("./node_modules/react/index.js"),s=n.n(r),a=n("./node_modules/react-router/dist/index.js"),o=n("./src/components/Header.js"),l=n("./src/components/Games/Keyboard.js"),c=n("./src/components/Games/Message.js"),i=n("./src/components/Games/Wordle/Endgame.js"),u=n("./src/components/Games/Wordle/Grid.js");function d(){const e=[4,6],[t,n]=s().useState((0,a.useParams)().lang),[r,d]=s().useState(""),[m,f]=s().useState(""),[h,w]=s().useState(""),[g,E]=s().useState(0),[y,p]=s().useState([...Array(6)]),[v,k]=s().useState([]),[j,S]=s().useState(!1),[G,L]=s().useState(null),[$,b]=s().useState(!1);function x({key:e}){if("Enter"===e){if(v.includes(h))return void L(["you already tried that word","warning"]);if(h.length!==r.length)return void L([`word must be ${r.length} characters long`,"warning"]);fetch(`/dictionary/api/${t}/entry/?word=${h}`).then((e=>{if(!e.ok)throw new Error("Response was not ok");var t;t=function(){let e=[...r],t=[...h].map((e=>({key:e,status:"absent"})));return t.forEach(((n,r)=>{e[r]===n.key&&(t[r].status="correct",e[r]=null)})),t.forEach(((n,r)=>{e.includes(n.key)&&"correct"!==n.status&&(t[r].status="misplaced",e[e.indexOf(n.key)]=null)})),t}(),h===r&&S(!0),p((e=>{let n=[...e];return n[g]=t,n})),k((e=>[...e,h])),E((e=>e+1)),w("")})).catch((e=>{L([`${h} is not in the dictionary`,"warning"])}))}else"Backspace"===e?h.length>0&&w((e=>e.slice(0,-1))):/^[A-Za-z-']$/.test(e)&&h.length<r.length&&w((t=>t.toLowerCase()+e.toLowerCase()))}return s().useEffect((()=>{fetch(`/dictionary/api/${t}/entry/?word_len=${e[0]}-${e[1]}&definition_len=3-20&word_case=lower&definition!^=(&classification!=vul&origin!=eng&`).then((e=>e.json())).then((e=>{d(e.word.toLowerCase());const t=e.attributes,n=t[Math.floor(Math.random()*t.length)].definition;f(n)})).catch((e=>{L(["Too many retries. Try again later.","warning"]),console.error("Error fetching data: ",e)}))}),[]),s().useEffect((()=>(window.addEventListener("keyup",x),j&&(b(!0),window.removeEventListener("keyup",x)),g>=6&&(b(!0),window.removeEventListener("keyup",x)),()=>{window.removeEventListener("keyup",x)})),[x]),s().useEffect((()=>{if(G){const e=setTimeout((()=>{L(null)}),1500);return()=>clearTimeout(e)}}),[G]),s().createElement(s().Fragment,null,r&&s().createElement(s().Fragment,null,s().createElement(o.default,{title:"Wordle"}),s().createElement("div",{className:"text-center"},s().createElement("div",null,s().createElement("p",{className:"m-2"},"Hint: ",s().createElement("strong",null,m))),G&&s().createElement("div",{className:"d-flex justify-content-center"},s().createElement(c.default,{message:G[0],variant:G[1]})),s().createElement(u.default,{solutionLen:r.length,currentGuess:h,guesses:y,turn:g}),s().createElement(l.default,{handleKeyup:x}),$&&s().createElement(i.default,{show:$,isCorrect:j,solution:r,turn:g,numGuesses:6}))))}}},(function(e){e.h=()=>"e07567ca96066de8f616"}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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LEVBQUksSUFBTSIsInNvdXJjZXMiOlsid2VicGFjazovL2Zyb250ZW5kLy4vc3JjL2NvbXBvbmVudHMvR2FtZXMvV29yZGxlL1dvcmRsZS5qcyIsIndlYnBhY2s6Ly9mcm9udGVuZC93ZWJwYWNrL3J1bnRpbWUvZ2V0RnVsbEhhc2giXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0IGZyb20gXCJyZWFjdFwiO1xuaW1wb3J0IHsgdXNlUGFyYW1zIH0gZnJvbSBcInJlYWN0LXJvdXRlci1kb21cIjtcbmltcG9ydCBIZWFkZXIgZnJvbSBcIi4uLy4uL0hlYWRlclwiO1xuaW1wb3J0IEtleWJvYXJkIGZyb20gXCIuLi9LZXlib2FyZFwiO1xuaW1wb3J0IE1lc3NhZ2UgZnJvbSBcIi4uL01lc3NhZ2VcIjtcbmltcG9ydCBFbmRnYW1lIGZyb20gXCIuL0VuZGdhbWVcIjtcbmltcG9ydCBHcmlkIGZyb20gXCIuL0dyaWRcIjtcblxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBXb3JkbGUoKSB7XG4gICAgY29uc3QgbnVtR3Vlc3NlcyA9IDY7XG4gICAgY29uc3Qgd29yZExlbiA9IFs0LCA2XTtcbiAgICBjb25zdCBbbGFuZywgc2V0TGFuZ10gPSBSZWFjdC51c2VTdGF0ZSh1c2VQYXJhbXMoKS5sYW5nKTtcbiAgICBjb25zdCBbc29sdXRpb24sIHNldFNvbHV0aW9uXSA9IFJlYWN0LnVzZVN0YXRlKFwiXCIpO1xuICAgIGNvbnN0IFtoaW50LCBzZXRIaW50XSA9IFJlYWN0LnVzZVN0YXRlKFwiXCIpO1xuICAgIGNvbnN0IFtjdXJyZW50R3Vlc3MsIHNldEN1cnJlbnRHdWVzc10gPSBSZWFjdC51c2VTdGF0ZShcIlwiKTtcbiAgICBjb25zdCBbdHVybiwgc2V0VHVybl0gPSBSZWFjdC51c2VTdGF0ZSgwKTtcbiAgICBjb25zdCBbZ3Vlc3Nlcywgc2V0R3Vlc3Nlc10gPSBSZWFjdC51c2VTdGF0ZShbLi4uQXJyYXkobnVtR3Vlc3NlcyldKTtcbiAgICBjb25zdCBbaGlzdG9yeSwgc2V0SGlzdG9yeV0gPSBSZWFjdC51c2VTdGF0ZShbXSk7XG4gICAgY29uc3QgW2lzQ29ycmVjdCwgc2V0SXNDb3JyZWN0XSA9IFJlYWN0LnVzZVN0YXRlKGZhbHNlKTtcbiAgICBjb25zdCBbbWVzc2FnZSwgc2V0TWVzc2FnZV0gPSBSZWFjdC51c2VTdGF0ZShudWxsKTtcbiAgICBjb25zdCBbZW5kZ2FtZSwgc2V0RW5kZ2FtZV0gPSBSZWFjdC51c2VTdGF0ZShmYWxzZSk7XG5cbiAgICBSZWFjdC51c2VFZmZlY3QoKCkgPT4ge1xuICAgICAgICBmZXRjaChcbiAgICAgICAgICAgIGAvZGljdGlvbmFyeS9hcGkvJHtsYW5nfS9lbnRyeS8/YCArIFxuICAgICAgICAgICAgYHdvcmRfbGVuPSR7d29yZExlblswXX0tJHt3b3JkTGVuWzFdfSZgICtcbiAgICAgICAgICAgIGBkZWZpbml0aW9uX2xlbj0zLTIwJmAgK1xuICAgICAgICAgICAgYHdvcmRfY2FzZT1sb3dlciZgICtcbiAgICAgICAgICAgIGBkZWZpbml0aW9uIV49KCZgICtcbiAgICAgICAgICAgIGBjbGFzc2lmaWNhdGlvbiE9dnVsJmAgK1xuICAgICAgICAgICAgYG9yaWdpbiE9ZW5nJmBcbiAgICAgICAgKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gcmVzcG9uc2UuanNvbigpKVxuICAgICAgICAgICAgLnRoZW4oZGF0YSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0U29sdXRpb24oZGF0YS53b3JkLnRvTG93ZXJDYXNlKCkpO1xuXG4gICAgICAgICAgICAgICAgY29uc3QgYXR0cmlidXRlcyA9IGRhdGEuYXR0cmlidXRlcztcbiAgICAgICAgICAgICAgICBjb25zdCBkZWZpbml0aW9uID0gYXR0cmlidXRlc1tNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiBhdHRyaWJ1dGVzLmxlbmd0aCldLmRlZmluaXRpb247XG4gICAgICAgICAgICAgICAgc2V0SGludChkZWZpbml0aW9uKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHNldE1lc3NhZ2UoW1wiVG9vIG1hbnkgcmV0cmllcy4gVHJ5IGFnYWluIGxhdGVyLlwiLCBcIndhcm5pbmdcIl0pO1xuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBmZXRjaGluZyBkYXRhOiBcIiwgZXJyb3IpO1xuICAgICAgICAgICAgfSk7XG4gICAgfSwgW10pO1xuXG4gICAgZnVuY3Rpb24gZm9ybWF0R3Vlc3MoKSB7XG4gICAgICAgIGxldCBzb2x1dGlvbkFycmF5ID0gWy4uLnNvbHV0aW9uXTtcbiAgICAgICAgbGV0IGZvcm1hdHRlZEd1ZXNzID0gWy4uLmN1cnJlbnRHdWVzc10ubWFwKChjaGFyKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4ge2tleTogY2hhciwgc3RhdHVzOiBcImFic2VudFwifTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9ybWF0dGVkR3Vlc3MuZm9yRWFjaCgoY2hhciwgaSkgPT4ge1xuICAgICAgICAgICAgaWYgKHNvbHV0aW9uQXJyYXlbaV0gPT09IGNoYXIua2V5KSB7XG4gICAgICAgICAgICAgICAgZm9ybWF0dGVkR3Vlc3NbaV0uc3RhdHVzID0gXCJjb3JyZWN0XCI7XG4gICAgICAgICAgICAgICAgc29sdXRpb25BcnJheVtpXSA9IG51bGw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZvcm1hdHRlZEd1ZXNzLmZvckVhY2goKGNoYXIsIGkpID0+IHtcbiAgICAgICAgICAgIGlmIChzb2x1dGlvbkFycmF5LmluY2x1ZGVzKGNoYXIua2V5KSAmJiBjaGFyLnN0YXR1cyAhPT0gXCJjb3JyZWN0XCIpIHtcbiAgICAgICAgICAgICAgICBmb3JtYXR0ZWRHdWVzc1tpXS5zdGF0dXMgPSBcIm1pc3BsYWNlZFwiO1xuICAgICAgICAgICAgICAgIHNvbHV0aW9uQXJyYXlbc29sdXRpb25BcnJheS5pbmRleE9mKGNoYXIua2V5KV0gPSBudWxsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICByZXR1cm4gZm9ybWF0dGVkR3Vlc3M7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gYWRkTmV3R3Vlc3MgKGZvcm1hdHRlZEd1ZXNzKSB7XG4gICAgICAgIGlmIChjdXJyZW50R3Vlc3MgPT09IHNvbHV0aW9uKSB7XG4gICAgICAgICAgICBzZXRJc0NvcnJlY3QodHJ1ZSk7XG4gICAgICAgIH1cblxuICAgICAgICBzZXRHdWVzc2VzKChwcmV2R3Vlc3NlcykgPT4ge1xuICAgICAgICAgICAgbGV0IG5ld0d1ZXNzZXMgPSBbLi4ucHJldkd1ZXNzZXNdO1xuICAgICAgICAgICAgbmV3R3Vlc3Nlc1t0dXJuXSA9IGZvcm1hdHRlZEd1ZXNzO1xuICAgICAgICAgICAgcmV0dXJuIG5ld0d1ZXNzZXM7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRIaXN0b3J5KChwcmV2SGlzdG9yeSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIFsuLi5wcmV2SGlzdG9yeSwgY3VycmVudEd1ZXNzXTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldFR1cm4oKHByZXZUdXJuKSA9PiB7XG4gICAgICAgICAgICByZXR1cm4gcHJldlR1cm4gKyAxO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0Q3VycmVudEd1ZXNzKFwiXCIpO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGhhbmRsZUtleXVwKHtrZXl9KSB7XG4gICAgICAgIGlmIChrZXkgPT09IFwiRW50ZXJcIikge1xuICAgICAgICAgICAgaWYgKGhpc3RvcnkuaW5jbHVkZXMoY3VycmVudEd1ZXNzKSkge1xuICAgICAgICAgICAgICAgIHNldE1lc3NhZ2UoW1wieW91IGFscmVhZHkgdHJpZWQgdGhhdCB3b3JkXCIsIFwid2FybmluZ1wiXSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoY3VycmVudEd1ZXNzLmxlbmd0aCAhPT0gc29sdXRpb24ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgc2V0TWVzc2FnZShbYHdvcmQgbXVzdCBiZSAke3NvbHV0aW9uLmxlbmd0aH0gY2hhcmFjdGVycyBsb25nYCwgXCJ3YXJuaW5nXCJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGZldGNoKGAvZGljdGlvbmFyeS9hcGkvJHtsYW5nfS9lbnRyeS8/d29yZD0ke2N1cnJlbnRHdWVzc31gKVxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4ge1xuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcbiAgICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiUmVzcG9uc2Ugd2FzIG5vdCBva1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29uc3QgZm9ybWF0dGVkR3Vlc3MgPSBmb3JtYXRHdWVzcygpO1xuICAgICAgICAgICAgICAgIGFkZE5ld0d1ZXNzKGZvcm1hdHRlZEd1ZXNzKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAuY2F0Y2goZXJyb3IgPT4ge1xuICAgICAgICAgICAgICAgIHNldE1lc3NhZ2UoW2Ake2N1cnJlbnRHdWVzc30gaXMgbm90IGluIHRoZSBkaWN0aW9uYXJ5YCwgXCJ3YXJuaW5nXCJdKTtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9KTsgICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKGtleSA9PT0gXCJCYWNrc3BhY2VcIikge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRHdWVzcy5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgc2V0Q3VycmVudEd1ZXNzKChwcmV2Q3VycmVudEd1ZXNzKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAocHJldkN1cnJlbnRHdWVzcy5zbGljZSgwLCAtMSkpOyBcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKC9eW0EtWmEtei0nXSQvLnRlc3Qoa2V5KSkge1xuICAgICAgICAgICAgaWYgKGN1cnJlbnRHdWVzcy5sZW5ndGggPCBzb2x1dGlvbi5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBzZXRDdXJyZW50R3Vlc3MoKHByZXZDdXJyZW50R3Vlc3MpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChwcmV2Q3VycmVudEd1ZXNzLnRvTG93ZXJDYXNlKCkgKyBrZXkudG9Mb3dlckNhc2UoKSk7IFxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCBoYW5kbGVLZXl1cCk7XG5cbiAgICAgICAgaWYgKGlzQ29ycmVjdCkge1xuICAgICAgICAgICAgc2V0RW5kZ2FtZSh0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaGFuZGxlS2V5dXApO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHR1cm4gPj0gbnVtR3Vlc3Nlcykge1xuICAgICAgICAgICAgc2V0RW5kZ2FtZSh0cnVlKTtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaGFuZGxlS2V5dXApO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuICgpID0+IHtcbiAgICAgICAgICAgIHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgaGFuZGxlS2V5dXApO1xuICAgICAgICB9O1xuICAgIH0sIFtoYW5kbGVLZXl1cF0pO1xuXG4gICAgUmVhY3QudXNlRWZmZWN0KCgpID0+IHtcbiAgICAgICAgaWYgKG1lc3NhZ2UpIHtcbiAgICAgICAgICAgIGNvbnN0IHRpbWVyID0gc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgc2V0TWVzc2FnZShudWxsKTtcbiAgICAgICAgICAgIH0sIDE1MDApO1xuXG4gICAgICAgICAgICByZXR1cm4gKCkgPT4gY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgfVxuICAgIH0sIFttZXNzYWdlXSk7XG5cbiAgICByZXR1cm4gKFxuICAgICAgICA8PlxuICAgICAgICAgICAge3NvbHV0aW9uICYmIChcbiAgICAgICAgICAgICAgICA8PlxuICAgICAgICAgICAgICAgICAgICA8SGVhZGVyIHRpdGxlPVwiV29yZGxlXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0ZXh0LWNlbnRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzc05hbWU9XCJtLTJcIj5IaW50OiA8c3Ryb25nPntoaW50fTwvc3Ryb25nPjwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAge21lc3NhZ2UgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxNZXNzYWdlIG1lc3NhZ2U9e21lc3NhZ2VbMF19IHZhcmlhbnQ9e21lc3NhZ2VbMV19Lz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxHcmlkIHNvbHV0aW9uTGVuPXtzb2x1dGlvbi5sZW5ndGh9IGN1cnJlbnRHdWVzcz17Y3VycmVudEd1ZXNzfSBndWVzc2VzPXtndWVzc2VzfSB0dXJuPXt0dXJufT48L0dyaWQ+XG4gICAgICAgICAgICAgICAgICAgICAgICA8S2V5Ym9hcmQgaGFuZGxlS2V5dXA9e2hhbmRsZUtleXVwfT48L0tleWJvYXJkPlxuICAgICAgICAgICAgICAgICAgICAgICAge2VuZGdhbWUgJiYgKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxFbmRnYW1lXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2hvdz17ZW5kZ2FtZX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0NvcnJlY3Q9e2lzQ29ycmVjdH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzb2x1dGlvbj17c29sdXRpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHVybj17dHVybn1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1HdWVzc2VzPXtudW1HdWVzc2VzfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8Lz5cbiAgICAgICAgICAgICl9XG4gICAgICAgIDwvPlxuICAgIClcbn1cbiIsIl9fd2VicGFja19yZXF1aXJlX18uaCA9ICgpID0+IChcImUwNzU2N2NhOTYwNjZkZThmNjE2XCIpIl0sIm5hbWVzIjpbIldvcmRsZSIsIndvcmRMZW4iLCJsYW5nIiwic2V0TGFuZyIsIlJlYWN0IiwidXNlUGFyYW1zIiwic29sdXRpb24iLCJzZXRTb2x1dGlvbiIsImhpbnQiLCJzZXRIaW50IiwiY3VycmVudEd1ZXNzIiwic2V0Q3VycmVudEd1ZXNzIiwidHVybiIsInNldFR1cm4iLCJndWVzc2VzIiwic2V0R3Vlc3NlcyIsIkFycmF5IiwiaGlzdG9yeSIsInNldEhpc3RvcnkiLCJpc0NvcnJlY3QiLCJzZXRJc0NvcnJlY3QiLCJtZXNzYWdlIiwic2V0TWVzc2FnZSIsImVuZGdhbWUiLCJzZXRFbmRnYW1lIiwiaGFuZGxlS2V5dXAiLCJrZXkiLCJpbmNsdWRlcyIsImxlbmd0aCIsImZldGNoIiwidGhlbiIsInJlc3BvbnNlIiwib2siLCJFcnJvciIsImZvcm1hdHRlZEd1ZXNzIiwic29sdXRpb25BcnJheSIsIm1hcCIsImNoYXIiLCJzdGF0dXMiLCJmb3JFYWNoIiwiaSIsImluZGV4T2YiLCJmb3JtYXRHdWVzcyIsInByZXZHdWVzc2VzIiwibmV3R3Vlc3NlcyIsInByZXZIaXN0b3J5IiwicHJldlR1cm4iLCJjYXRjaCIsImVycm9yIiwicHJldkN1cnJlbnRHdWVzcyIsInNsaWNlIiwidGVzdCIsInRvTG93ZXJDYXNlIiwianNvbiIsImRhdGEiLCJ3b3JkIiwiYXR0cmlidXRlcyIsImRlZmluaXRpb24iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjb25zb2xlIiwid2luZG93IiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJjbGVhclRpbWVvdXQiLCJIZWFkZXIiLCJ0aXRsZSIsImNsYXNzTmFtZSIsIk1lc3NhZ2UiLCJ2YXJpYW50IiwiR3JpZCIsInNvbHV0aW9uTGVuIiwiS2V5Ym9hcmQiLCJFbmRnYW1lIiwic2hvdyIsIm51bUd1ZXNzZXMiLCJfX3dlYnBhY2tfcmVxdWlyZV9fIiwiaCJdLCJzb3VyY2VSb290IjoiIn0=