{% extends 'users/base.html' %}

{% load humanize %}

{% block content %}
    <div class="container pb-3 mb-3 border-bottom">
        <h1>{{ users.count }} users</h1>
    </div>

    <div class="container pb-3 mb-3">
        <div class="p-2 mb-3 alert alert-info alert-dismissible fade show">
            <span>
                Learn more about reputation
                <a href="{% url 'users:about_reputation' %}">here</a>.
            </span>
            <button type="button" class="btn-close p-3" data-bs-dismiss="alert" aria-label="Close"></button>
        </div>
        <ul class="list-group">
            {% for user in users %}
                <li class="list-group-item">
                    <div class="d-flex">
                        <div class="me-auto">
                            <i class="bi bi-award"></i>
                            <span class="me-2">Rank #{{ forloop.counter }}</span>
                        </div>
                        <div>
                            {{ user.profile.reputation }} reputation
                        </div>
                    </div>
                    <div class="d-flex">
                        <div class="me-auto">
                            <a href="{% url 'users:profile' user.pk user.username %}" class="text-decoration-none">
                                {{ user.username }}
                            </a>
                        </div>
                        <div class="text-end text-muted">
                            <small>
                                <span class="text-nowrap">member for</span>
                                <span class="text-nowrap">{{ user.date_joined|timesince }}</span>
                            </small>
                        </div>
                    </div>
                </li>
            {% empty %}
                No users
            {% endfor %}
        </ul>
    </div>
{% endblock %}